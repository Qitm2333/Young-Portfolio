# DAY14 - 2025.12.17 (周三)

## 今日任务

### 场景收尾
- [x] 拱门模型制作
- [x] 花朵资产导入与调整
- [x] 场景整体检查与优化

---

## 完成内容

### 花朵资产导入

导入第三方花朵资产包，处理 Built-in → URP 材质转换：
- 在 Project 窗口选中 .mat 材质文件（不是物体）
- Edit → Rendering → Materials → Convert Selected Built-in Materials to URP

### PlantWind 植物风吹脚本

创建 `Assets/Scripts/Environment/PlantWind.cs`：

**功能**：
- Transform 旋转实现整体摆动
- 主摆动 + 次级摆动，更自然
- 自动随机时间偏移，避免同步
- 编辑器实时预览（ExecuteAlways）
- 噪波风模式（Perlin Noise），更随机自然
- 阵风效果，周期性增强风力
- 基准旋转捕获，支持自定义朝向

### MaterialTint 材质调色脚本

创建 `Assets/Scripts/Environment/MaterialTint.cs`：

**功能**：
- 使用 MaterialPropertyBlock 不修改原材质
- 自动检测颜色属性（_BaseColor、_Color 等）
- 支持颜色叠加、饱和度、亮度调整

**注意**：对于颜色来自贴图的材质（_BaseColor 为白色），脚本调整效果有限

### 拱门模型

- Blender 制作拱门
- 平滑着色：FBX 导入设置 → Normals → Calculate，调整 Smoothing Angle

### 其他修复

- LOD 固定：调整 LOD Group 阈值或用 `ForceLOD(0)`
- Prefab 报错：Unpack Completely 解除 Prefab 连接

---

## Memory

- [x] Built-in 材质转 URP → 在 Project 窗口选中材质文件
- [x] URP Lit 材质调色 → MaterialPropertyBlock 设置 _BaseColor
- [x] 3D 植物风吹 → Transform 旋转 + Perlin Noise 更自然
- [x] 编辑器实时预览 → ExecuteAlways + EditorApplication.timeSinceStartup
- [x] 模型平滑着色 → FBX 导入 Normals=Calculate，调大 Smoothing Angle
- [x] LOD 固定 → 调整阈值或 ForceLOD(0)

---

## 下一步

- [ ] 魔方纹路系统（拱门前魔方贴图和模型）
- [ ] 情绪转化系统（影响场景颜色，Volume + 后处理）
- [ ] 第二场景制作（无缝切换，套用资产）
- [ ] 角色动画与交互
- [ ] 游戏流程测试
