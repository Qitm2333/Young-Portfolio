# Ruralilt 项目逻辑梳理日报 - DAY05

**日期：** 2025年11月16日
**项目：** Ruralilt - MediaPipe驱动的乡村儿童舞蹈学习与社交平台
**目标：** 高保真UI设计启动 + 技术实现路径完整调研

---

## 今日工作内容

### 1. 高保真UI设计启动 ✅

**完成页面（TEST01版本）：**

#### 页面1：消息页/首页（Message）
- **核心功能**：
  - 顶部IP角色欢迎卡片（"Gifts from mom!"）
  - Latest消息流（Likes、Packages、System通知）
  - 底部5图标导航栏（中间橙色+按钮强调）

- **设计特点**：
  - 奶油黄暖色调背景渐变
  - 蓝色考拉IP角色生动融入顶部卡片
  - 圆角设计统一，符合儿童产品调性
  - 消息列表简洁清晰，图标+文字组合

#### 页面2：收藏页（Collection）
- **核心功能**：
  - Personal Records个人记录区（3卡位）
  - Animal Album动物收藏（2/10进度显示）
  - Plant Album植物收藏（1/3进度显示）
  - 右上角相机图标（可能用于扫描卡片解锁）

- **设计特点**：
  - 分类清晰：个人记录 + 主题收藏
  - 进度可视化：清晰显示收集进度（2/10, 1/3）
  - 黄色卡片占位符，后续可替换为实际IP插画
  - 底部导航中"收藏"图标高亮（黄色爱心）

#### 页面3：学习首页（Home/Learning）
- **核心功能**：
  - 个性化问候（"Hi, Young!" + Learn some new dances!）
  - 舞蹈分类标签（All、Jazz、Street、Chinese folk）
  - 课程卡片列表（Basic/Advanced JAZZ Rhythm Practice）
  - 每个课程卡片融合IP角色（蓝色考拉不同表情）

- **设计特点**：
  - IP角色表情丰富（开心/冷静状态）
  - 课程卡片信息完整（难度锁标识、时长Timing Hours）
  - 搜索栏设计（顶部，便于快速查找课程）
  - 底部导航"首页"图标高亮

---

### 2. 技术实现路径完整调研 ✅

**调研产出（4份完整文档）：**

#### 文档1：技术实现总览与落地指南
- **快速决策路径**：
  - 开发框架选择（Flutter混合 vs 纯Android原生）
  - MR实现方案（简化视频叠加 vs ARCore）
  - 动画技术选型（Lottie vs Rive vs SVGA）

- **5周实施路线图**：
  - Week 1: 设计 + 技术预研
  - Week 2: 核心学习流程
  - Week 3: 动作识别 + MR功能
  - Week 4: 收藏 + 创作模块
  - Week 5: 动画整合 + 优化

- **演示脚本建议**：5分钟完整演示流程规划

#### 文档2：移动端技术选型调研
- **开发框架对比**：
  - 原生Android (Kotlin + Jetpack Compose)
  - Flutter + Android原生混合
  - React Native（不推荐）

- **MediaPipe集成方案**：
  - 官方Tasks API使用方式
  - Pose Landmarker模型选择（Lite/Full/Heavy）
  - 性能数据：中端设备可达25-30fps

- **技术栈推荐**：
  - **首选**：Kotlin + Jetpack Compose（如不熟悉Flutter）
  - MediaPipe Tasks Vision 0.10.9
  - Lottie-Android 6.2.0
  - CameraX 1.3.0

#### 文档3：交互动画技术方案与工作流
- **Lottie完整工作流**：
  - AE Bodymovin插件安装与配置
  - 支持/不支持的AE特性清单
  - 导出优化技巧（文件大小控制）
  - Android/Flutter集成代码示例

- **技术方案对比**：
  | 方案 | 文件大小 | 性能 | 交互能力 | 学习曲线 |
  |------|---------|------|----------|----------|
  | Lottie | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ 低 |
  | Rive | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐ 较高 |
  | SVGA | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐ 中等 |

- **IP动画设计建议**：
  - 加载动画：1-2秒循环，<30KB
  - 成功/失败反馈：0.5-1.5秒，<50KB
  - 点赞微交互：0.3-0.8秒，<20KB
  - 课程解锁：2-3秒，<100KB

- **MVP阶段动画优先级**：
  - 第一优先级（必做，2周）：6个核心动画
  - 第二优先级（建议，1周）：7个增强动画
  - 总工时：15-18天（设计11-14天 + 集成4天）

#### 文档4：MVP功能边界与实现路径
- **功能三分法**：
  - ✅ **第一优先级（必做）**：
    - 学习页（课程列表+详情+MR练习+姿态追踪+纠错+结果）
    - 收藏页（卡片展示+详情+解锁动画）
    - 创作页（视频录制+列表+分享模拟）
    - 动画系统（8-12个Lottie动画）
    - 技术基础（MediaPipe + MR叠加 + 本地存储）
    - **工时：103小时**

  - ⚠️ **第二优先级（强烈建议）**：
    - 统计页（数据可视化+成就徽章）
    - 卡片扫描（二维码识别）
    - **工时：18小时**

  - ❌ **第三优先级（时间允许）**：
    - 引导系统、空状态插画
    - 高级MR（ARCore完整实现）
    - **工时：23小时**

- **详细技术实现**：
  - MediaPipe姿态追踪代码示例（Kotlin）
  - 动作对比算法（余弦相似度计算）
  - MR虚拟老师视频叠加方案（绿幕去除Shader）
  - Lottie动画集成完整代码

- **5周开发计划**：
  - 总工时：190小时 ≈ 5周全职
  - 开发：122小时
  - 设计+动画：48小时
  - 测试优化：20小时

- **成本估算**：
  - 外包成本：~5.2万元
  - 素材成本：~0.5万元（舞蹈视频拍摄）

---

### 3. LoRA训练成果整理 ✅

**IP角色体系完善：**
- 粗稿库：15+个初版IP角色
- 精修完成：5个主推IP角色
  - 🐱 粉色小猫（4个角色设定展示图）
  - 🐸 绿色青蛙（4个角色设定展示图）
  - 🦊 橙色狐狸（4个角色设定展示图）
  - 🐑 白色小羊（4个角色设定展示图）
  - 🐨 青绿考拉（4个角色设定展示图）

**IP应用场景确定：**
- 学习页课程卡片封面（已在高保真TEST01中应用）
- 收藏页卡片展示（待填充实际插画）
- 加载/反馈动画的IP角色（待制作Lottie）
- 虚拟老师MR叠加（待拍摄或绘制动画序列）

---

## 今日关键洞察

### 1. 高保真设计方向明确
- **色彩系统**：奶油黄主色调 + 橙色强调色，温暖舒适，符合儿童产品调性
- **IP融合策略**：不是装饰性贴图，而是功能性融合（课程卡片、消息卡片、收藏卡片）
- **导航逻辑清晰**：5图标底部导航（首页、收藏、+按钮、消息、个人）
- **圆角设计统一**：卡片、按钮、图标全部圆角，视觉柔和

### 2. 技术路径可行性验证
- **MediaPipe性能可控**：Lite模型 + 720p分辨率，中端设备可达25-30fps，满足实时追踪需求
- **MR方案降级合理**：MVP阶段使用简化视频叠加（开发2-3天），延后完整ARCore（需5-7天）
- **Lottie动画可行**：AE导出工作流成熟，单动画可控制在<100KB，性能优秀
- **开发周期可控**：5周全职（或8-10周兼职）可完成核心MVP

### 3. MVP功能边界清晰
- **核心价值聚焦**：姿态追踪 + 动作纠错，这是技术亮点
- **视觉体验优先**：高保真UI + 流畅Lottie动画，第一印象决定演示效果
- **功能可裁剪**：时间不够可砍掉统计页和卡片扫描，保留核心学习流程

### 4. 设计与技术衔接
- **从设计到实现的桥梁**：
  - 高保真设计 → 提取组件库 → Jetpack Compose实现
  - IP插画素材 → AE动画制作 → Lottie导出 → Android集成
  - 舞蹈视频拍摄 → 绿幕去除 → MR叠加 → 练习界面展示

- **设计规范待建立**：
  - 色彩变量定义（主色、强调色、背景色）
  - 字体规范（标题、正文、辅助文字）
  - 间距系统（8dp基础网格）
  - 圆角半径统一（卡片16dp、按钮12dp、头像圆形）

---

## 待解决问题

### 设计侧
1. **收藏页分类逻辑优化**：Animal/Plant Album是否与舞蹈学习主题契合？可考虑改为"舞蹈风格收藏"或"IP角色收藏"
2. **卡片占位符填充**：黄色占位需替换为实际IP插画（猫、蛙、狐、羊、考拉）
3. **消息页功能定位**："Gifts from mom"偏社交功能，是否与学习首页合并？或明确消息页的核心作用
4. **MR练习界面设计**：姿态追踪时的骨骼点显示、纠错提示UI、进度条样式待设计
5. **练习结果页设计**：评分展示、卡片解锁动画、"再来一次"按钮布局待设计

### 技术侧
6. **MediaPipe性能真机测试**：需在中端设备（如小米Redmi Note）实测帧率
7. **绿幕视频拍摄准备**：需要绿幕布、打光设备、虚拟老师演员（或使用动画）
8. **Lottie动画制作启动**：AE Bodymovin插件安装、第一批核心动画（加载、成功、失败）制作
9. **Android项目搭建**：选择纯原生 or Flutter混合，搭建基础框架

### 素材侧
10. **舞蹈示范视频**：需要拍摄3-5个舞蹈课程的标准示范视频（或购买/下载）
11. **标准姿态数据采集**：使用MediaPipe录制标准舞蹈动作的骨骼点序列（JSON格式）
12. **IP角色动画序列**：选择3-5个主推IP，绘制/生成动画序列（闲置、开心、难过表情）

---

## 明日计划

### 设计优先
- 完成剩余核心页面高保真设计：
  - MR练习界面（姿态追踪显示）
  - 练习结果页（评分+解锁动画）
  - 课程详情页（虚拟老师示范视频）
  - 创作页（视频录制+作品列表）

- 优化已完成的3页设计：
  - 填充实际IP插画到收藏页卡片
  - 调整消息页功能逻辑
  - 建立设计规范文档（颜色、字体、间距）

### 或技术验证
- 搭建Android项目基础框架
- 集成MediaPipe SDK并测试姿态追踪Demo
- 安装AE Bodymovin插件，制作第一个测试Lottie动画

### 或素材准备
- 下载/拍摄第一个舞蹈示范视频
- 使用MediaPipe录制标准动作的骨骼点数据
- 挑选3个主推IP角色，规划动画制作

---

## 今日成果总结

### 设计交付物
- ✅ 高保真UI页面 x3（消息页、收藏页、学习首页）
- ✅ IP角色体系完善（5个主推角色，每个4张设定图）

### 技术交付物
- ✅ 技术调研文档 x4（总览、选型、动画、MVP边界）
- ✅ 5周开发计划（190工时详细分解）
- ✅ 代码实现示例（MediaPipe、Lottie集成）

### 关键决策
- ✅ 技术栈确定：Kotlin + Jetpack Compose（或Flutter混合）
- ✅ MR方案确定：MVP用简化视频叠加
- ✅ 动画方案确定：主力Lottie（80%场景）
- ✅ MVP功能边界：103小时核心功能 + 18小时增强功能

---

**今日进度：** ████████░░ 85％（高保真启动 + 技术路径完全明确）
**逻辑完整度：** ✅ 极高（从设计到实现的完整闭环已建立）
**下一步重点：** 完成剩余高保真页面 OR 启动技术验证Demo
